<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Docker Compose on Блог про IT</title>
        <link>https://blog.moroz.cc/uk/tags/docker-compose/</link>
        <description>Recent content in Docker Compose on Блог про IT</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>uk</language>
        <lastBuildDate>Mon, 03 Jun 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.moroz.cc/uk/tags/docker-compose/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Що таке Docker і Docker Compose і як їх встановити на Debian</title>
        <link>https://blog.moroz.cc/uk/post/%D1%89%D0%BE-%D1%82%D0%B0%D0%BA%D0%B5-docker-%D1%96-docker-compose-%D1%96-%D1%8F%D0%BA-%D1%97%D1%85-%D0%B2%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B8-%D0%BD%D0%B0-debian/</link>
        <pubDate>Mon, 03 Jun 2024 00:00:00 +0000</pubDate>
        
        <guid>https://blog.moroz.cc/uk/post/%D1%89%D0%BE-%D1%82%D0%B0%D0%BA%D0%B5-docker-%D1%96-docker-compose-%D1%96-%D1%8F%D0%BA-%D1%97%D1%85-%D0%B2%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B8-%D0%BD%D0%B0-debian/</guid>
        <description>&lt;img src="https://blog.moroz.cc/post/what-is-docker-and-docker-compose-and-how-to-install-and-use-it-on-debian/header.png" alt="Featured image of post Що таке Docker і Docker Compose і як їх встановити на Debian" /&gt;&lt;h2 id=&#34;що-таке-docker-і-docker-compose&#34;&gt;Що таке Docker і Docker Compose&lt;/h2&gt;
&lt;p&gt;Docker і Docker Compose — це інструменти, призначені для спрощення процесу керування та розгортання програм у контейнерах. Ось огляд кожного з них, а також їхні відмінності та основні переваги.&lt;/p&gt;
&lt;h3 id=&#34;docker&#34;&gt;Docker&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Визначення:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Docker — це платформа, яка використовує контейнеризацію для розгортання, керування та запуску програм. Контейнери — це легкі, портативні та узгоджені середовища, які містять усе необхідне для запуску частини програмного забезпечення, наприклад код, середовище виконання, системні інструменти, бібліотеки та налаштування.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ключові переваги:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Узгодженість: Docker гарантує, що програмне забезпечення працюватиме однаково незалежно від того, де воно розгорнуто, оскільки контейнери інкапсулюють усі залежності.&lt;/li&gt;
&lt;li&gt;Ізоляція: контейнери працюють в ізольованих середовищах, що полегшує керування залежностями та уникнення конфліктів.&lt;/li&gt;
&lt;li&gt;Портативність: контейнери можуть працювати в будь-якій системі, яка підтримує Docker, включаючи локальні сервери, публічні хмари та персональні машини.&lt;/li&gt;
&lt;li&gt;Ефективність: контейнери Docker легкі та мають менші витрати порівняно з традиційними віртуальними машинами.&lt;/li&gt;
&lt;li&gt;Масштабованість: Docker дозволяє легко масштабувати додатки по горизонталі, запускаючи кілька контейнерів на різних хостах.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;docker-compose&#34;&gt;Docker Compose&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Визначення:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Docker Compose — це інструмент для визначення та запуску багатоконтейнерних програм Docker. Він використовує файл YAML для налаштування служб програми, мереж і томів, що дозволяє вам керувати декількома контейнерами як однією програмою.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ключові переваги:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Спрощена конфігурація: Docker Compose використовує один файл YAML (docker-compose.yml) для налаштування всіх служб вашої програми, що полегшує керування та розуміння.&lt;/li&gt;
&lt;li&gt;Керування кількома контейнерами: дозволяє визначати, запускати та керувати кількома взаємопов’язаними контейнерами за допомогою однієї команди (docker-compose up).&lt;/li&gt;
&lt;li&gt;Послідовність середовища: забезпечує узгоджене середовище на різних етапах розробки, тестування та виробництва за допомогою того самого файлу конфігурації.&lt;/li&gt;
&lt;li&gt;Мережа: автоматично налаштовує мережу, щоб контейнери могли спілкуватися один з одним без додаткового налаштування.&lt;/li&gt;
&lt;li&gt;Керування томами: спрощує налаштування та керування томами даних, якими можна спільно користуватися між контейнерами.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;відмінності&#34;&gt;Відмінності&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Сфера застосування: Docker використовується для одноконтейнерних програм, тоді як Docker Compose розроблено для програм, що складаються з кількох контейнерів.&lt;/li&gt;
&lt;li&gt;Використання: команди Docker (docker run, docker build тощо) використовуються для керування окремими контейнерами, тоді як команди Docker Compose (docker-compose up, docker-compose down тощо) керують цілими багатоконтейнерними програмами, визначеними в YAML. файл.&lt;/li&gt;
&lt;li&gt;Конфігурація: Docker використовує Dockerfiles для визначення зображень контейнерів, тоді як Docker Compose використовує файл docker-compose.yml для визначення багатоконтейнерних програм, включаючи їхні мережі та томи.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Комбіновані ключові переваги&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Оптимізована розробка: разом Docker і Docker Compose дозволяють швидко й узгоджено розробляти, тестувати та розгортати програми.&lt;/li&gt;
&lt;li&gt;Відтворюваність: обидва інструменти гарантують, що середовище, в якому працює програма, є узгодженим на різних етапах, зменшуючи проблему &amp;ldquo;це працює на моїй машині&amp;rdquo;.&lt;/li&gt;
&lt;li&gt;Спрощений CI/CD: інтеграція з конвеєрами CI/CD стає легшою, оскільки контейнери можна використовувати для запуску тестів і розгортання програм у узгодженому середовищі.&lt;/li&gt;
&lt;li&gt;Ефективність використання ресурсів: контейнери використовують те саме ядро ​​ОС і можуть бути більш ефективними за використання ресурсів, ніж віртуальні машини.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;приклад&#34;&gt;Приклад&lt;/h3&gt;
&lt;p&gt;Припустімо, що у вас є веб-програма з такими компонентами:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;веб-сервер (наприклад, Nginx)&lt;/li&gt;
&lt;li&gt;сервер додатків (наприклад, Node.js)&lt;/li&gt;
&lt;li&gt;база даних (наприклад, PostgreSQL)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;З Docker:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ви створюєте окремі файли Docker для кожного компонента, щоб контейнерувати їх.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;З Docker Compose:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ви створюєте файл docker-compose.yml, щоб визначити всі три служби та їх взаємодію.&lt;/li&gt;
&lt;li&gt;Ви можете відкрити весь стек за допомогою однієї команди (docker-compose up).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;встановлення-docker&#34;&gt;Встановлення Docker&lt;/h2&gt;
&lt;p&gt;Перш за все оновіть системні пакети до останніх версій:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt upgrade&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Потім встановіть необхідні пакети:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install apt-transport-https ca-certificates curl software-properties-common gnupg2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Додайте відкритий ключ GPG для офіційного репозиторію Docker:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -fsSL https://download.docker.com/linux/debian/gpg &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo apt-key add -&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Додайте репозиторій Docker debian до списку джерел менеджера пакетів apt:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;deb [arch=amd64] https://download.docker.com/linux/debian &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;lsb_release -cs&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; stable&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo tee /etc/apt/sources.list.d/docker.list&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Оновіть індекси пакетів і встановіть Docker Community Edition:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt install docker-ce&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Увімкніть і запустіть демон docker systemd:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; --now docker&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Нарешті перевірте інсталяцію, запустивши демонстраційний контейнер &lt;code&gt;hello-world&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo docker run hello-world&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;встановлення-docker-compose&#34;&gt;Встановлення Docker Compose&lt;/h2&gt;
&lt;p&gt;Завантажте останню версію з офіційного репозиторію:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo curl -L &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;uname -s&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;uname -m&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -o /usr/local/bin/docker-compose&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Додайте дозволи на виконання до завантаженого двійкового файлу:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo chmod +x /usr/local/bin/docker-compose&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Перевірте встановлення, роздрукувавши версію Docker Compose:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker-compose --version&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Крім того, ви можете створити тестовий файл &lt;code&gt;docker-compose.yml&lt;/code&gt; з декількома демонстраційними службами (наприклад, веб-сервер і база даних):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;web&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nginx&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;s2&#34;&gt;&amp;#34;80:80&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;database&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;postgres&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;POSTGRES_PASSWORD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;example&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;А потім, щоб запустити його, використовуйте команду:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker compose up&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;висновок&#34;&gt;Висновок&lt;/h2&gt;
&lt;p&gt;У цьому прикладі показано, як інсталювати Docker і Docker Compose у системі Debian, щоб вони доповнювали один одного під час розробки, розгортання та ефективного керування програмами.&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
