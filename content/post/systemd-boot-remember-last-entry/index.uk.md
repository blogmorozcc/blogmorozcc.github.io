+++
title = "Налаштування systemd-boot для запам'ятовування останньої вибраної опції"
date = "2023-11-22"
tags = [
    "Linux",
    "Bootloader",
    "systemd-boot",
]
categories = [
    "Linux",
]
image = "header.png"
+++

## Введення

Використовуючи systemd-boot як завантажувач, більш зручно, щоб система запам’ятовувала останню вибрану опцію під час кожного наступного завантаження. Це особливо корисно для користувачів, які використовують різниі операційні системи або ядра Linux. Налаштувавши systemd-boot на запам'ятовування останньої вибраної опції завантаження, ви можете спростити процес завантаження та уникнути необхідності вручну вибирати потрібний параметр кожного разу, коли система перезавантажується.

## Зміна конфігураційного файлу

Щоб налаштувати запам'ятовування systemd-boot, потрібно змінити файл конфігурації `loader.conf``. Точне розташування цього файлу може відрізнятися залежно від дистрибутива Linux, який ви використовуєте.

Особисто я використовував кілька дистрибутивів Linux, і шлях до `loader.conf` був різним у кожному з них, наприклад:

- Для **Ubuntu** це було `/boot/efi/loader/loader.conf`
- Для **Arch Linux** це було `/boot/loader/loader.conf`
- Для **EndeavourOS** це був `/efi/loader/loader.conf`

Щоб змінити файл, відкрийте термінал і виконайте такі дії:

1. Відкрийте файл `loader.conf` для редагування, наприклад:

{{< highlight shell "linenos=false" >}}
sudo nano /boot/loader/loader.conf
{{< / highlight >}}

2. Змініть параметр `default`, як показано нижче:

{{< highlight shell "linenos=false" >}}
default @saved
{{< / highlight >}}

3. Збережіть файл (В nano це робиться клавіатурним скороченням `Crtl + O`).

Після того як ви виберете деяку опцію (ОС чи ядро) при завантаженні комп'ютера в systemd-boot, то її буде збережено та запропоновано автоматично як стандартниу під час наступного завантаження.

## Висновки

Налаштувавши systemd-boot на запам'ятовування останньої вибраної опції, ви можете оптимізувати процес завантаження та покращити загальну взаємодію з користувачем. Незалежно від того, чи використовуєте ви Arch Linux, Ubuntu або інший дистрибутив, який використовує systemd-boot, ця проста модифікація може заощадити ваш час і зробити запуск вашої системи ефективнішим.

Не забудьте адаптувати шляхи до файлів і команди відповідно до специфіки вашого дистрибутива. З цією конфігурацією ваша система автоматично завантажуватиметься з останнього вибраного запису, зменшуючи потребу в ручному втручанні під час процесу завантаження.
